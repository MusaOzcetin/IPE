{
  "program_finder": {
    "description": "MVP Program Finder: simple filters (degree, language), one interests input, GPT evaluation, up to 3 suggestions.",
    "detect_keywords": {
      "en": [
        "program finder",
        "find programs",
        "study program",
        "which program",
        "recommend a program",
        "compare programs",
        "programs for me",
        "discover programs"
      ],
      "de": [
        "programmfinder",
        "studiengang finden",
        "studiengangsuche",
        "studienangebot",
        "welcher studiengang",
        "programme vergleichen",
        "passender studiengang",
        "studiengÃ¤nge entdecken"
      ]
    },
    "questions_set": {
      "degree_type": {
        "type": "enum",
        "values": ["bachelor", "master"],
        "questions": {
          "en": "ðŸ¦‰ Which degree level are you interested in: Bachelor or Master?"
        },
        "slot": "degree_type"
      },
      "language_constraint": {
        "type": "enum",
        "values": ["english-only", "german-only", "either"],
        "questions": {
          "en": "ðŸ¦‰ Which language of instruction do you prefer or require? (German, English, or either)"
        },
        "slot": "language_constraint",
        "notes": "Do not assume language knowledge; always ask explicitly."
      },
      "field_interest": {
        "type": "free-text",
        "questions": {
          "en": "ðŸ¦‰ What field or interests should the program fit?"
        },
        "slot": "field_interest"
      }
    },
    "fields": {
      "title": {
        "source": "study_program_webpages.json",
        "action": "Extract EXACT value of `title` from the candidate object. Do not rewrite or translate."
      },
      "degree": {
        "source": "study_program_webpages.json",
        "action": "Extract the value of `Degree` inside `sections.headings.tables.rows` from the SAME candidate object."
      },
      "language": {
        "source": "study_program_webpages.json",
        "action": "Extract the value of `Language of instruction` inside `sections.headings.tables.rows` from the SAME candidate object."
      },
      "admission": {
        "source": "study_program_webpages.json",
        "action": "Extract the value of `Admission` inside `sections.headings.tables.rows` from the SAME candidate object."
      },
      "program_overview": {
        "source": "study_program_webpages.json",
        "action": "Summarize factual `paragraphs` under the `Program overview` heading from the SAME candidate object."
      },
      "acquired_skills": {
        "source": "study_program_webpages.json",
        "action": "Summarize factual `paragraphs` under the `Acquired skills` heading from the SAME candidate object, if present."
      }
    },
    "actions": {
      "scan_the_programs": {
        "description": "Load all program objects from study_program_webpages.json as candidates."
      },
      "filter_by_degree": {
        "description": "Keep candidates whose `degree` matches slot `degree_type` (bachelor/master). Read `degree` from fields.degree of the SAME object."
      },
      "filter_by_language": {
        "description": "Apply slot `language_constraint`: english-only â†’ include programs where `language` contains English (or bilingual); german-only â†’ include programs where `language` contains German (or bilingual); either â†’ no filter."
      },
      "gpt_evaluate": {
        "description": "Let GPT, using slot `field_interest` and candidate fields (title, program_overview, acquired_skills), decide which programs fit best. No explicit ranking formula; choose up to 3 results."
      },
      "present_table": {
        "description": "Render a Markdown table for up to 3 programs (0â€“3 allowed) using fields: `title`.",
        "constraints": {
          "use_exact_values": ["title"],
          "validation": "Before rendering each row, assert row.title === candidate.title; if not, drop the row."
        }
      },
      "disclaimer": {
        "description": "Present disclaimer about all studies offered by TU Berlin."
      },
      "present_details": {
        "description": "Show concise details for the selected program using fields: `title` plus a short summary from `program_overview`.",
        "constraints": {
          "use_exact_values": ["title"]
        }
      },
      "present_comparison_table": {
        "description": "Render a Markdown table comparing 2â€“3 selected programs using fields: `title`.",
        "constraints": {
          "use_exact_values": ["title"]
        }
      },
      "confirm_reset": {
        "description": "Ask user to confirm restarting Program Finder.",
        "phrases": {
          "en": "Do you want to restart Program Finder?"
        }
      },
      "clear_state": {
        "description": "Clear collected slots and transient state."
      },
      "restart_flow": {
        "description": "Return to the first question in questions_set (degree_type)."
      },
      "handoff_to_general_help": {
        "description": "Exit Program Finder and route to general help.",
        "phrases": {
          "en": "Switching to general TU Berlin help to answer your question."
        }
      }
    },
    "intents": {
      "program.find": {
        "notes": "Ask minimal questions, apply simple filters, let GPT evaluate fit, and present up to three programs.",
        "ask": ["degree_type", "language_constraint", "field_interest"],
        "actions": [
          "scan_the_programs",
          "filter_by_degree",
          "filter_by_language",
          "gpt_evaluate",
          "present_table"
        ],
        "present": {
          "fields": ["title"]
        }
      },
      "program.detail": {
        "notes": "Provide concise info for a selected program.",
        "inputs": ["selected_program"],
        "actions": ["present_details"],
        "present": {
          "fields": ["title", "degree", "duration", "admission"]
        }
      },
      "program.compare": {
        "notes": "Compare 2â€“3 selected programs side by side with verified facts. Enforce count: 2â€“3.",
        "inputs": ["selected_programs"],
        "actions": ["present_comparison_table"],
        "present": {
          "fields": ["title", "degree", "duration", "admission"]
        },
        "constraints": {
          "selected_programs_count_min": 2,
          "selected_programs_count_max": 3
        }
      },
      "program.reset": {
        "notes": "Clear collected slots and restart Program Finder.",
        "actions": ["confirm_reset", "clear_state", "restart_flow"]
      },
      "program.exit": {
        "notes": "Exit Program Finder and hand off to general help.",
        "actions": ["handoff_to_general_help"]
      }
    }
  }
}
